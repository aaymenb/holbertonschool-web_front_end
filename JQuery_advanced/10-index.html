<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8" />
		<title>Task 10</title>
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	</head>
	<body>
		<script type="application/javascript">
			function addPostRow(data) {
				$('body').append(
					$('<p>').append(
						$('<span>').text(`Post created with id ${data.id}, title: ${data.title}, author: ${data.author}`)
					)
				);
			}

			function listPosts() {
				$.get('http://localhost:3000/posts')
					.done(function(data) {
						data.forEach(post => addPostRow(post));
					})
					.fail(function() {
						alert('Server Error');
					});
			}

			$(document).ready(listPosts);
		</script>
	</body>
</html>
